{"version":3,"sources":["components/Players/Cleaning.tsx","components/PlayerControls.tsx","components/Bookmark.tsx","components/Player.tsx"],"names":["Cleaning","title","url","CSS","css","PlayerControls","ref","togglePlay","isPlaying","muted","volume","toggleMute","setVolume","duration","played","onChange","onMouseDown","onMouseUp","displayTime","onMouseOver","rewindPlayer","forwardPlayer","toggleFullScreen","changeRate","playbackRate","className","onClick","id","type","min","max","value","map","rate","index","key","bind","toFixed","forwardRef","Bookmark","display","seekTo","img","src","alt","count","Player","useState","playing","seeking","bookmarks","state","setState","playerRef","useRef","playerWrapperRef","canvasRef","controlsRef","useCallback","target","onProgress","currentState","current","style","opacity","playedSeconds","currentTarget","format","secs","isNaN","date","Date","hh","getUTCHours","mm","getUTCMinutes","toString","padStart","ss","getUTCSeconds","getCurrentTime","screenfull","isEnabled","toggle","getDuration","currentTime","formatedDuration","formatedCurrentTime","width","height","config","file","attributes","crossOrigin","position","overflow","mark","item","backgroundColor"],"mappings":"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","file":"static/js/17.1d0cdd57.chunk.js","sourcesContent":["import Player from \"../Player\";\r\n\r\nconst Cleaning = () => {\r\n    return <Player title=\"Чистка друкуючої головки\" url=\"cleaning.mp4\" />\r\n};\r\n\r\nexport default Cleaning;","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport React, { MouseEventHandler, ChangeEventHandler, forwardRef, ForwardedRef, Fragment } from \"react\";\r\nimport { jsx, css } from \"@emotion/react\";\r\nimport { HiPause, HiPlay, HiRewind, HiFastForward } from \"react-icons/hi\";\r\nimport { FiVolume1, FiVolume2, FiVolumeX } from \"react-icons/fi\";\r\nimport { AiOutlineFullscreen } from \"react-icons/ai\";\r\nimport { IoSettingsOutline } from \"react-icons/io5\"; \r\n\r\nconst CSS = css`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    top: 0;\r\n    background-color: rgba(0,0,0, .4);\r\n    transition: opacity .3s linear;\r\n\r\n    button\r\n    {\r\n        border: 0;\r\n        background-color: transparent;\r\n        cursor: pointer;\r\n        color: white;\r\n    }\r\n\r\n    > .player-controls__top\r\n    {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        padding: 1em;\r\n\r\n        > .heading  \r\n        {\r\n            color: white;\r\n            margin: 0;  \r\n            font-size: 1rem;\r\n\r\n            @media (min-width: 600px) {\r\n                font-size: 1.5rem;\r\n            }\r\n        }\r\n    }\r\n\r\n    > .player-controls__middle\r\n    {\r\n        display: flex;\r\n        justify-content: center;\r\n\r\n        > .toggle-play\r\n        {\r\n            font-size: 2.5rem;\r\n\r\n            @media (min-width: 600px) {\r\n                font-size: 5rem;\r\n            }\r\n        }\r\n\r\n        > .rewind,\r\n        > .forward\r\n        {\r\n            font-size: 2rem;\r\n\r\n            @media (min-width: 600px) {\r\n                font-size: 4rem;\r\n            }\r\n        }\r\n    }\r\n\r\n    > .player-controls__bottom\r\n    {\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        > .toggle-play\r\n        {\r\n            font-size: 1.5rem;\r\n            padding: 0;\r\n\r\n            @media (min-width: 600px) {\r\n                font-size: 2rem;\r\n            }\r\n        }\r\n\r\n        > .volume-range\r\n        {\r\n            cursor: pointer;\r\n            width: 20%;\r\n        }\r\n\r\n        > .rewind,\r\n        > .forward,\r\n        > .toggle-mute,\r\n        > .fullscreen\r\n        {\r\n            font-size: 1rem;\r\n\r\n            @media (min-width: 600px) {\r\n                font-size: 1.5rem;\r\n            }\r\n        }\r\n\r\n        > .fullscreen\r\n        {\r\n            position: relative;\r\n            width: 30px;\r\n            height: 100%;\r\n\r\n            > svg\r\n            {\r\n                position: absolute;\r\n                top: 22%;\r\n                left: .25em;\r\n\r\n                @media (min-width: 600px) {\r\n                    left: -.25em;\r\n                }\r\n            }\r\n        }\r\n\r\n        > .seekbar\r\n        {\r\n            display: flex;\r\n            justify-content: space-evenly;\r\n            align-items: center;\r\n            width: 100%;\r\n            height: 100%;\r\n\r\n            > .seekbar__range\r\n            {\r\n                width: calc(100% - 12em);  \r\n                cursor: pointer;      \r\n            }\r\n\r\n            > .seekbar__display-time\r\n            {\r\n                color: white;\r\n                font-size: .6rem;\r\n                margin-left: -1em;\r\n\r\n                @media (min-width: 600px) {\r\n                    font-size: 1rem;\r\n                }\r\n            }\r\n        }\r\n\r\n        > .playback-rate\r\n        {\r\n            position: relative;\r\n            font-size: 1.1rem;\r\n            margin-left: -1.8em;\r\n            margin-bottom: -.4em;\r\n\r\n            > .playback-rate__options\r\n            {\r\n                display: none;\r\n                position: absolute;\r\n                bottom: 1.5em;\r\n                left: calc(50% - 1em);\r\n                background-color: white;\r\n                border-radius: .3em;\r\n                overflow: hidden;\r\n\r\n                > div\r\n                {\r\n                    color: black;\r\n                    padding: .5em;\r\n                    font-size: clamp(.7rem, 2vw + .1em, 1rem);\r\n\r\n                    &::nth-of-type(1), \r\n                    &::nth-of-type(4) \r\n                    {\r\n                        border-radius: .3em;\r\n                    }\r\n\r\n                    &:hover,\r\n                    &.active\r\n                    {\r\n                        background-color: hsla(0, 0%, 0%, .2);\r\n                    }\r\n                }\r\n            }\r\n\r\n            &:focus\r\n            {\r\n                > svg\r\n                {\r\n                    transform: rotate(45deg);\r\n                    transition: transform .3s linear;\r\n                }\r\n\r\n                > .playback-rate__options\r\n                {\r\n                    display: block;\r\n\r\n                }\r\n            } \r\n        }\r\n    }\r\n`;\r\n\r\ntype Props = {\r\n    togglePlay: MouseEventHandler<HTMLButtonElement>\r\n    isPlaying: boolean\r\n    muted: boolean\r\n    volume: number\r\n    toggleMute: MouseEventHandler<HTMLButtonElement>\r\n    setVolume: ChangeEventHandler<HTMLInputElement>\r\n    duration: number\r\n    played: number\r\n    onChange: ChangeEventHandler<HTMLInputElement>\r\n    onMouseDown: MouseEventHandler<HTMLInputElement>\r\n    onMouseUp: MouseEventHandler<HTMLInputElement>\r\n    displayTime: string\r\n    title: string\r\n    onMouseOver: MouseEventHandler<HTMLDivElement>\r\n    rewindPlayer: MouseEventHandler<HTMLButtonElement>\r\n    forwardPlayer: MouseEventHandler<HTMLButtonElement>\r\n    toggleFullScreen: MouseEventHandler<HTMLButtonElement>\r\n    changeRate: (rate: number) => any\r\n    playbackRate: number\r\n}\r\n\r\nconst PlayerControls = ({ \r\n        togglePlay, isPlaying, muted, volume, toggleMute, setVolume, duration, played, onChange, onMouseDown, \r\n        onMouseUp, displayTime, title, onMouseOver, rewindPlayer, forwardPlayer, toggleFullScreen, changeRate,\r\n        playbackRate\r\n    }: Props, ref: ForwardedRef<HTMLDivElement>) => {\r\n    return <Fragment>\r\n        <div \r\n            css={CSS} \r\n            ref={ref} \r\n            className=\"player-controls\"\r\n            onMouseOver={onMouseOver}\r\n        >\r\n            <div className=\"player-controls__top\">\r\n                <h2 className=\"heading\">{title}</h2>\r\n            </div>\r\n            <div className=\"player-controls__middle\">\r\n                <button className=\"rewind\" onClick={rewindPlayer}>\r\n                    <HiRewind/>\r\n                </button>\r\n\r\n                <button className=\"toggle-play\" onClick={togglePlay}>        \r\n                    {isPlaying ? <HiPause/> : <HiPlay/>}\r\n                </button>\r\n\r\n                <button className=\"forward\" onClick={forwardPlayer}>\r\n                    <HiFastForward/>\r\n                </button>\r\n            </div>\r\n            <div className=\"player-controls__bottom\">\r\n                <button className=\"rewind\" onClick={rewindPlayer}>\r\n                    <HiRewind/>\r\n                </button>\r\n\r\n                <button className=\"toggle-play\" onClick={togglePlay}>        \r\n                    {isPlaying ? <HiPause/> : <HiPlay/>}\r\n                </button>\r\n\r\n                <button className=\"forward\" onClick={forwardPlayer}>\r\n                    <HiFastForward/>\r\n                </button>\r\n\r\n                <button className=\"toggle-mute\" onClick={toggleMute}>\r\n                    {muted ? <FiVolumeX/> : volume > 0.5 ? <FiVolume2/> : <FiVolume1/>}\r\n                </button>\r\n\r\n                <input \r\n                    className=\"volume-range\"\r\n                    id=\"volume-range\"\r\n                    type=\"range\" \r\n                    min={0} \r\n                    max={100} \r\n                    value={volume * 100}\r\n                    onChange={setVolume}\r\n                />\r\n\r\n                <div className=\"seekbar\">\r\n                    <input\r\n                        className=\"seekbar__range\"\r\n                        type=\"range\"    \r\n                        min={0}\r\n                        max={duration}\r\n                        value={played}\r\n                        onChange={onChange}\r\n                        onMouseDown={onMouseDown}\r\n                        onMouseUp={onMouseUp}\r\n                    />\r\n                    <span className=\"seekbar__display-time\">{displayTime}</span>\r\n                </div>\r\n\r\n                <button className=\"playback-rate active\">\r\n                    <IoSettingsOutline/>\r\n                    <div className=\"playback-rate__options\">\r\n                        {[2.0, 1.5, 1.0, 0.5].map((rate, index) => {\r\n                            return <div \r\n                                key={index} \r\n                                className={`${rate === playbackRate ? \"active\" : \"\"}`}\r\n                                onClick={changeRate.bind(null, rate)}\r\n                            >\r\n                                {rate.toFixed(1)}\r\n                            </div>\r\n                        })}\r\n                    </div>\r\n                </button>\r\n\r\n                <button className=\"fullscreen\" onClick={toggleFullScreen}>\r\n                    <AiOutlineFullscreen/>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </Fragment>\r\n};\r\n\r\nexport default forwardRef(PlayerControls);","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport React, { MouseEventHandler } from \"react\";\r\nimport { jsx, css } from \"@emotion/react\";\r\n\r\nconst CSS = css`\r\n    width: 175px;\r\n    padding: .37em;\r\n    cursor: pointer;\r\n    position: relative;\r\n\r\n    > img\r\n    {\r\n        width: 100%;\r\n    }\r\n\r\n    > span\r\n    {\r\n        position: absolute;\r\n        bottom: 1em;\r\n        left: calc(50% - 20px);\r\n        color: white;\r\n        text-shadow: .1em .1em .2em gray;\r\n    }\r\n`;\r\n\r\nexport type TBookmark = {\r\n    img: string\r\n    display: string\r\n    currentTime: number\r\n}\r\n\r\ntype Props = {\r\n    display: string\r\n    seekTo: MouseEventHandler<HTMLDivElement>\r\n    img: string\r\n}\r\n\r\nconst Bookmark = ({ display, seekTo, img }: Props) => {\r\n    return <div css={CSS} className=\"bookmark\" onClick={seekTo}>\r\n        <img src={img} alt=\"\"/>\r\n        <span>{display}</span>\r\n    </div>\r\n};\r\n\r\nexport default Bookmark;","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport React, { useState, useCallback, useRef, ChangeEvent, MouseEvent } from \"react\";\r\nimport ReactPlayer, { ReactPlayerProps } from \"react-player/lazy\";\r\nimport { jsx, css } from \"@emotion/react\";\r\nimport screenfull from \"screenfull\";\r\n\r\nimport PlayerControls from \"./PlayerControls\";\r\nimport Bookmark, { TBookmark } from \"./Bookmark\";\r\n\r\nconst CSS = css`\r\n    position: relative;\r\n`;\r\n\r\ntype State = {\r\n    playing: boolean\r\n    volume: number\r\n    muted: boolean\r\n    played: number\r\n    seeking: boolean\r\n    bookmarks: TBookmark[]\r\n    rate: number\r\n}\r\n\r\ntype Props = {\r\n    title: string\r\n    url: string\r\n}\r\n\r\nlet count = 0;\r\n\r\nconst Player = ({\r\n    title,\r\n    url\r\n}: Props) => {\r\n    const [state, setState] = useState<State>({\r\n        playing: false,\r\n        volume: 0.5,\r\n        muted: false,\r\n        played: 0,\r\n        seeking: false,\r\n        bookmarks: [],\r\n        rate: 1.0\r\n    });\r\n\r\n    const playerRef = useRef<ReactPlayer>(null); \r\n    const playerWrapperRef = useRef<HTMLDivElement>(null);\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const controlsRef = useRef<HTMLDivElement>(null);\r\n\r\n    const togglePlay = useCallback(() => {\r\n        setState(state => ({ ...state, playing: !state.playing}))\r\n    }, []);\r\n\r\n    const toggleMute = useCallback(() => {\r\n        setState(state => ({ ...state, muted: !state.muted }));\r\n    }, []);\r\n\r\n    const setVolume = useCallback(({ target: { value } }: ChangeEvent<HTMLInputElement>) => {\r\n        setState(state => ({ ...state, volume: (+value / 100), muted: +value === 0 }));\r\n    }, []);\r\n\r\n    const onProgress = useCallback((currentState: ReactPlayerProps) => {\r\n        if (count > 3 && controlsRef.current) {\r\n            controlsRef.current.style.opacity = \"0\";\r\n            count = 0;\r\n        }\r\n\r\n        if (controlsRef.current && controlsRef.current.style.opacity === \"1\") count += 1; \r\n\r\n        if (!state.seeking) {\r\n            setState(state => ({ ...state, played: currentState.playedSeconds }))\r\n        }\r\n    }, [state.seeking]);\r\n\r\n    const onMouseDown = useCallback(() => {\r\n        setState(state => ({ ...state, seeking: true }));\r\n    }, []);\r\n\r\n    const onChange = useCallback(({ target }: ChangeEvent<HTMLInputElement>) => {\r\n        setState(state => ({ ...state, played: +target.value }));\r\n    }, []); \r\n\r\n    const onMouseUp = useCallback(({ currentTarget }: MouseEvent<HTMLInputElement>) => {\r\n        if (playerRef.current) {\r\n            setState(state => ({ ...state, seeking: false }));\r\n            playerRef.current.seekTo(+currentTarget.value);\r\n        }\r\n    }, []);\r\n\r\n    const format = useCallback((secs: number) => {\r\n        if (isNaN(secs)) return \"00:00\";\r\n\r\n        const date = new Date(secs * 1000);\r\n        const hh = date.getUTCHours();\r\n        const mm = date.getUTCMinutes().toString().padStart(2, \"0\");\r\n        const ss = date.getUTCSeconds().toString().padStart(2, \"0\");\r\n\r\n        if (!hh) return `${mm}:${ss}`;\r\n        return `${hh}:${mm}:${ss}`;\r\n    }, []); \r\n\r\n    const onMouseOver = useCallback(() => {\r\n        if (controlsRef.current) {\r\n            controlsRef.current.style.opacity = \"1\";\r\n            count = 0;\r\n        }\r\n    }, []);\r\n\r\n    const rewindPlayer = useCallback(() => {\r\n        if (playerRef.current) {\r\n            playerRef.current.seekTo(playerRef.current.getCurrentTime() - 10);\r\n        }\r\n    }, []);\r\n\r\n    const forwardPlayer = useCallback(() => {\r\n        if (playerRef.current) {\r\n            playerRef.current.seekTo(playerRef.current.getCurrentTime() + 10);\r\n        }\r\n    }, []);\r\n\r\n    const toggleFullScreen = useCallback(() => {\r\n        if (screenfull.isEnabled && playerWrapperRef.current) {\r\n            screenfull.toggle(playerWrapperRef.current);\r\n        }\r\n    }, []);\r\n\r\n    const changeRate = useCallback((rate: number) => {\r\n        setState(state => ({ ...state, rate }));\r\n    }, []);\r\n\r\n    \r\n    const duration = playerRef.current ? playerRef.current.getDuration() : 0;\r\n    const currentTime = playerRef.current ? playerRef.current.getCurrentTime() : 0;\r\n\r\n    const formatedDuration = format(duration);\r\n    const formatedCurrentTime = format(currentTime);\r\n\r\n    return <div className=\"player wow animate__animated animate__backInUp\" ref={playerWrapperRef} css={CSS}>\r\n        <ReactPlayer \r\n            url={url}\r\n            ref={playerRef}\r\n            width=\"100%\"\r\n            playbackRate={state.rate}\r\n            height=\"100%\"\r\n            playing={state.playing}\r\n            volume={state.volume}\r\n            muted={state.muted}\r\n            onProgress={onProgress}\r\n            config={{\r\n                file: {\r\n                    attributes: {\r\n                        crossOrigin: \"anonymous\"\r\n                    }\r\n                }\r\n            }}\r\n        />\r\n\r\n        <PlayerControls \r\n            ref={controlsRef}\r\n            togglePlay={togglePlay} \r\n            isPlaying={state.playing}\r\n            muted={state.muted}\r\n            volume={state.volume}\r\n            toggleMute={toggleMute}\r\n            setVolume={setVolume}\r\n            duration={duration}\r\n            played={state.played}\r\n            onChange={onChange}\r\n            onMouseDown={onMouseDown}\r\n            onMouseUp={onMouseUp}\r\n            displayTime={`${formatedCurrentTime}/${formatedDuration}`}\r\n            title={title}\r\n            onMouseOver={onMouseOver}\r\n            rewindPlayer={rewindPlayer}\r\n            forwardPlayer={forwardPlayer}\r\n            toggleFullScreen={toggleFullScreen}\r\n            changeRate={changeRate}\r\n            playbackRate={state.rate}\r\n        />\r\n\r\n        <div style={{display: \"flex\", position: \"absolute\", overflow: \"hidden\", width: \"100%\"}}>\r\n            {state.bookmarks.map((mark, item) => {\r\n                return <Bookmark\r\n                    key={item}\r\n                    img={mark.img}\r\n                    display={mark.display}\r\n                    seekTo={() => playerRef.current ? playerRef.current.seekTo(mark.currentTime) : null}\r\n                />\r\n            })}\r\n        </div>\r\n\r\n        <canvas ref={canvasRef} style={{position: \"absolute\", backgroundColor: \"transparent\"}} />\r\n    </div>\r\n};\r\n\r\nexport default Player;"],"sourceRoot":""}